{% load static %}

{% for quote in page_obj %}
<tr
    hx-get="{% url 'quote' quote.pk %}"
    hx-trigger="load delay:{{ forloop.counter0|add:'5' }}0ms"
    hx-swap="outerHTML transition:true"
    style="height:10%; max-height:10%;"
    class="border-b-4 border-b-white/70 rounded-lg bg-slate-600/10">
    <td colspan="6">Cargando cotización...</td>
</tr>
{% empty %}
<tr><td colspan="6">No hay cotizaciones disponibles.</td></tr>
{% endfor %}

<tr style="height:10%; max-height:10%;">
    <td>
        <button
            class="flex align-bottom w-full h-[10%] rounded-sm bg-teal-500 text-white text-sm{% if page_obj.has_previous %} hover:bg-teal-600 duration-150{% endif %}"
            {% if page_obj.has_previous %}
            hx-get="{% url "quote_list" %}?page={{ page_obj.previous_page_number }}"
            hx-target="#table_data"
            hx-swap="innerHTML transition:true"
            {% else %}
            disabled
            {% endif %}>
            Anterior
        </button>
    </td>
    <td class="text-center mx-4" colspan="4">
        <div class="flex align-bottom w-full h-[10%]">
            Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}
        </div>
    </td>
    <td>
        <button
            class="flex align-bottom w-full h-[10%] rounded-sm bg-teal-500 text-white text-sm{% if page_obj.has_next %} hover:bg-teal-600 duration-150{% endif %}"
            {% if page_obj.has_next %}
            hx-get="{% url "quote_list" %}?page={{ page_obj.next_page_number }}"
            hx-target="#table_data"
            hx-swap="innerHTML transition:true"
            {% else %}
            disabled
            {% endif %}>
            Siguiente
        </button>
    </td>
</tr>